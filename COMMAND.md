# Описание команд

| Команда | Описание |
| --- | --- |
| [`help`](#help) | Вывод справки по параметрам |
| [`version`](#version) | Версия приложения |
| [`zip`](#zip) | Создать zip-архив |
| [`unzip`](#unzip) | Распаковать zip-архив в директорию |
| [`createibfile`](#createibfile) | Создание файловой информационной базы 1C в каталоге |
| [`createibserver`](#createibserver) | Создание серверной информационной базы на сервере 1С |
| [`checkconfig`](#checkconfig) | Выполнить проверку синтаксиса конфигурации 1С встроенными средствами |
| [`obfuscation`](#obfuscation) | Обфускация кода файла на языке 1С |
| [`autodoc`](#autodoc) | Автоформирование документации по проекту CI/CD |
| [`changelog`](#changelog) | Получение информации в формате HTML или TXT для определенной версии из файла CHANGELOG.md |
| [`changelog-init`](#changelog-init) | Инициализация нового файла CHANGELOG.md для проекта |

## help

Вывод справки по параметрам.

### Параметры команды

- **Команда** .
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## version

Версия приложения.

### Параметры команды

- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## zip

Создать zip-архив.

### Параметры команды

- **-file** Полное имя файла создаваемого zip-архива (обязательный).
- **-path** Файлы и папки, включаемые в архив. Можно использовать разделитель ";" или "|" и маски файлов (обязательный).
 Примеры:
   "C:\Path\File1.txt|C:\Path\Folder"
   "C:\Path\*.txt;C:\Path\Folder\*.*"
   "C:\Path\Folder".
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## unzip

Распаковать zip-архив в директорию.

### Параметры команды

- **-file** Полное имя zip-архива (обязательный).
- **-path** Директория куда необходимо распаковать архив (обязательный).
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## createibfile

Создание файловой информационной базы 1C в каталоге.

### Параметры команды

- **Действие** file|server.
- **-ibconnection** Строка подключения к ИБ (/FfilePath или /SserverPath) (обязательно)
	Например, для файловых баз -ibconnection /FC:\base1 или -ibconnection /Fbase1
	Или для серверных баз -ibconnection /Sservername\basename.
- **-addinlist** Имя, под которым база добавляется в список.
Если этот параметр не указан, база добавлена в список не будет (необязательно).
- **-template** Путь к шаблону для создания информационной базы (*.cf; *.dt).
Если шаблон не указан, то будет создана пустая ИБ (необязательно).
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## createibserver

Создание серверной информационной базы на сервере 1С.

### Параметры команды

- **Действие** file|server.
- **-ibconnection** Строка подключения к ИБ (/FfilePath или /SserverPath) (обязательно)
	Например, для файловых баз -ibconnection /FC:\base1 или -ibconnection /Fbase1
	Или для серверных баз -ibconnection /Sservername\basename.
- **-cluster-user** Администратор кластера (необязательно).
- **-cluster-pwd** Пароль администратора кластера (необязательно).
- **-addinlist** Имя, под которым база добавляется в список.
Если этот параметр не указан, база добавлена в список не будет (необязательно).
- **-template** Путь к шаблону для создания информационной базы (*.cf; *.dt).
Если шаблон не указан, то будет создана пустая ИБ (необязательно).
- **-db-srvr** Адрес сервера СУБД.
- **-sql-offs** Смещение дат на сервере MS SQL (0; 2000 <по умолчанию>).
- **-createdb** Создавать базу данных в случае отсутствия.
- **-allowschjob** Разрешить регламентные задания.
- **-allowlicdstr** Разрешить выдачу лицензий сервером 1С.
- **-dbms** Тип сервера СУБД (MSSQLServer <по умолчанию>; PostgreSQL; IBMDB2; OracleDatabase).
- **-db-user** Пользователь информационной базы (необязательно).
- **-db-pwd** Пароль пользователя информационной базы (необязательно).
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## checkconfig

Выполнить проверку синтаксиса конфигурации 1С встроенными средствами.

### Параметры команды

- **-ibconnection** Строка подключения к ИБ (/FfilePath или /SserverPath) (обязательно)
	Например, для файловых баз -ibconnection /FC:\base1 или -ibconnection /Fbase1
	Или для серверных баз -ibconnection /Sservername\basename.
- **-ib-user** Пользователь ИБ.
- **-ib-pwd** Пароль пользователя ИБ.
- **-v8version** Версия платформы 1С (необязательно). Примеры:
	8.3
	8.3.22
	8.3.22.3456.
- **-uccode** Ключ разрешения запуска (необязательно).
- **-ordinaryapp** Запуск толстого клиента (1 = толстый, 0 = тонкий клиент, -1 = без указания клиента). 
	По умолчанию используется значение 0 (тонкий клиент). 
	Значение -1 может применяться в случаях, когда нужно прочитать лог работы 1С в режиме Предприятие в управляемом интерфейсе..
- **-language** Код языка запуска платформы (необязательно).
- **-locale** Код локализации сеанса платформы (необязательно).
- **-ThinClient** Тонкий клиент.
- **-WebClient** Веб-клиент.
- **-Server** Сервер.
- **-ExternalConnection** Внешнее соединение.
- **-ThickClientOrdinaryApplication** Толстый клиент об. прил..
- **-ThickClientManagedApplication** Толстый клиент упр. прил.
- **-ThickClientServerManagedApplication** Толстый клиент упр. прил. клиент-сервер.
- **-ThickClientServerOrdinaryApplication** Толстый клиент об. прил. клиент-сервер.
- **-ExternalConnectionServer** Внешнее соединение клиент-сервер.
- **-ConfigLogIntegrity** Логическая целостность конфигурации.
- **-IncorrectReferences** Поиск некорректных ссылок.
- **-DistributiveModules** Поставка без исходных текстов.
- **-EmptyHandlers** Поиск пустых обработчиков.
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## obfuscation

Обфускация кода файла на языке 1С.

### Параметры команды

- **-file** Исходный файл, который необходимо обфусцировать.
- **-outfile** Куда сохранить обфусцированный файл. Если не задан, то исходный файл будет заменен обфусцированным.
- **-APIKey** API ключ, который можно найти на сайте сервиса. Пример: 23412341A4..12FDA.
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## autodoc

Автоформирование документации по проекту CI/CD.

### Параметры команды

- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

## changelog

Получение информации в формате HTML или TXT для определенной версии из файла CHANGELOG.md.

### Параметры команды

- **-file** Исходный файл CHANGELOG.md в формате MarkDown из которого необходимо получить описание (обязательный).
- **-outfile** Файл с новостью по обновлению из исходного файла в формате HTML или TXT в зависимости от расширения файла.
Если файл будет оканчиваться на html или htm, то новость сохранится в формате HTML.
Если же расширение будет другим, то новость сохранится в текстовом формате (обязательный).
- **-version** По какой версии будет получено описание обновления.
Если не задано, то будет получено по последней (необязательный).
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

### Что такое лог изменений?

ChangeLog — это файл, который содержит поддерживаемый, хронологически упорядоченный список значимых изменений для каждой версии проекта.

Формат основан на [Keep a Changelog](http://keepachangelog.com/) и этот проект придерживается [Semantic Versioning](http://semver.org/).


### Зачем вести лог изменений?

Чтобы пользователям и контрибуторам было проще в точности понять, какие значимые изменения были внесены в каждый выпуск (или версию) проекта.

### Кому нужен лог изменений?

Людям. Конечные пользователи программного обеспечения, будь то клиенты или разработчики, — это человеческие существа, которым небезразлично, с чем они работают. Когда программное обеспечение изменяется, люди хотят знать, что и почему изменилось.

### Как мне сделать хороший лог изменений?

#### Руководящие принципы

* Лог изменений — для людей, а не для машин.
* Для каждой версии без исключения следует создать отдельный раздел.
* Однотипные изменения следует группировать.
* Следует предусмотреть возможность поставить ссылку на любую версию или раздел.
* Последняя версия должна идти в начале файла.
* Указаны даты выпуска каждой версии.
Уточните, следуете ли вы принципам семантического версионирования.

#### Типы изменений

* `Внимание!` — для чего-то важного, о чем стоит сказать отдельно.
* `Добавлено` — для новых функций.
* `Изменено` — для изменений в существующей функциональности.
* `Устарело` — для функций, которые скоро будут удалены.
* `Удалено` — для удалённых на данный момент функций.
* `Исправлено` — для любых исправлений багов.
* `Безопасность` — на случай уязвимостей.

Обратите внимание, что заголовки можно писать как на русском, так и на английском. Т.е. заголовки ниже взаимозаменяемы и являются синонимами:

* Внимание! и Attention! и Новости и News
* Добавлено и Added и Новый функционал
* Изменено и Changed и Изменения
* Устарело и Deprecated
* Исправление ошибок и Fixed и Замечания к обновлению
* Удалено и Removed
* Безопасность и Security

Т.е. можно написать так:

```markdown
## Изменено

* Изменено следующее 1
```

А можно вот так:

```markdown
## Changed

* Change next 1
```

Доступно полно форматирование markdown внутри заметок. Можно начинать строки с символа "*", а можно с "-".

### Как мне тратить меньше усилий на ведение лога изменений?

Держите в начале файла раздел `Unreleased`, позволяющий отслеживать предстоящие изменения.

Это служит достижению двух целей:

1. Люди смогут видеть, каких изменений им можно ожидать в предстоящих выпусках;
2. В момент релиза вы можете переместить изменения из раздела `Unreleased` в раздел нового выпуска.

### Пример файла CHANGELOG

```markdown
Продукт

# [Unreleased] - yyyy-mm-dd

## Added

* Здесь мы пишем заметки об обновлении которое еще не вышло. Делайте их как можно более простыми.

# [1.0.0.5] - 2023-06-06

## Внимание! (Attention!)

- Важная заметка 1 **жирный** *курсив* __снова жиный__ _снова курсив_
- Важная заметка 2 ~~Зачеркнутый~~

## Добавлено (Added)

- Добавлено дело 1 ***жирный курсив***
- Добавлено дело 2 `выделенный`
- Картинка ![Описание](![Описание](https://github.com/images/modules/search/mona-love.png)
 
## Изменено (Changed)

* Изменено следующее 1
* Изменено следующее 2
 
## Исправление ошибок (Fixed)

* Исправлено следующее 1
* Исправлено следующее 2
* Картинка ![Описание](https://github.com/images/modules/search/mona-love.png)

```


## changelog-init

Инициализация нового файла CHANGELOG.md для проекта.

### Параметры команды

- **-file** Исходный файл CHANGELOG.md в формате MarkDown из которого необходимо получить описание (обязательный).
- **-settings** Путь к файлу настроек CI/CD в формате json. По умолчанию имя файла "env.json"  (необязательно).
- **-logfile** Вывод отладочных файлов в указанный лог-файл (необязательно).

### Как инициализируется файл Changelog?

```markdown
# Changelog

Все изменения по проекту.

## [1.0.0.0] - 2023-06-08

### Внимание!

* Важная заметка 1 **жирный** *курсив*
* Важная заметка 2 ~~Зачеркнутый~~

### Добавлено

* Добавлено дело 1 ***жирный курсив***
* Добавлено дело 2 `выделенный`
* Картинка ![Описание](https://github.com/images/modules/search/mona-love.png)

### Изменено

* Изменение 1 __снова жиный__ _снова курсив_
* Изменение 2

### Исправлено

* Исправление ошибки
```


